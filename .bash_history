
docker images
docker build -t moodle/tehranserver:v5 .
docker-compose up -d
docker-compose down
cd moodle
rm -rf *
cd ..
cd installation-files/
cp -r ./* ../moodle/
cd ../moodle/
ls
cd ..
exit
docker build -t moodle/tehranserver:v5 .
exit
apt install docker.io docker-compose.yml
apt install docker.io docker-compose
mkdir moodle
nano Dockerfile
wget https://download.moodle.org/download.php/stable500/moodle-latest-500.tgz
ls -ltrh
rm -rf moodle-latest-500.tgz
wget https://download.moodle.org/download.php/direct/stable500/moodle-latest-500.tgz
tar -xF 
ls
tar -xvf moodle-latest-500.tgz 
ls
cd moodle/
ls
cd ..
nano Dockerfile
ls
nano Dockerfile
set http_proxy="http://tehranproxy:tehranserver4430@185.110.247.60:9999"
set https_proxy="http://tehranproxy:tehranserver4430@185.110.247.60:9999"
export http_proxy="http://tehranproxy:tehranserver4430@185.110.247.60:9999"
export https_proxy="http://tehranproxy:tehranserver4430@185.110.247.60:9999"
mkdir -p /etc/systemd/system/docker.service.d
nano /etc/systemd/system/docker.service.d/http-proxy.conf
systemctl daemon-reload
systemctl restart docker
docker build -t moodle/tehranserver:v5
docker build -t moodle/tehranserver:v5 .
nano /etc/systemd/system/docker.service.d/http-proxy.conf
nano Dockerfile
apt install docker-buildx
docker build -t moodle/tehranserver:v5 .
nano Dockerfile
docker build -t moodle/tehranserver:v5 .
nano Dockerfile
docker build -t moodle/tehranserver:v5 .
nano Dockerfile
docker build -t moodle/tehranserver:v5 .
docker images
nano docker-compose.yml
nano Dockerfile 
nano docker-compose.yml
docker image rm 28067eded022
nano Dockerfile 
docker build -t moodle/tehranserver:v5 .
nano docker-compose.yml 
nano Dockerfile 
docker-compose up -d
ip a
ls
cd moodle
ls
cd ..
ls
ls -ltrh
chown -R 1005:1005 moodledata
chown -R 1005:1005 moodledata/*
docker-compose down
docker-compose down -v
docker image ls
docker image rm 01f3c88814c7
nano Dockerfile 
mkdir installation-files
cd moodle/* installation-files/
cp moodle/* installation-files/
cp -r moodle/* installation-files/
cd installation-files/
ls
ls -ltrh
cd ..
ls
cd moodle
cd ..
cd moodledata/
ls
cd ..
chown -R daemon:root moodle
nano Dockerfile 
docker build -t moodle/tehranserver:v5 .
docker-compose up -d
docker exec -it moodle_app /bin/bash
l
chown -R daemon:root moodledata
rm moodledata/
rm moodledata
rm -rf moodledata
docker logs moodle_app
cat /etc/passwd
id www-data
docker exec -it moodle_app /bin/bash
mkdir moodledata
ls
chown 33:33 moodledata/
docker exec -it moodle_app /bin/bash
cat Dockerfile 
sudo chown -R 33:33 ./moodle ./moodledata
docker-compose down -v
ls
cd moodle
ls
cd ..
ls -ltrh
docker-compose up -d
nano docker-compose.yml 
docker exec -it moodle_app /bin/bash
ls
nano docker-compose.yml 
docker exec -it moodle_app /bin/bash
nano Dockerfile 
nano docker-compose.yml 
docker exec -it moodle_app /bin/bash
caat Dockerfile 
cat Dockerfile 
cat docker-compose.yml 
docker exec -it moodle_app /bin/bash
docker-compose down -v
nano Dockerfile 
docker exec -it moodle_app /bin/bash
nano Dockerfile 
docker image ls
docker image rm 84aa7620def8
docker image ls
docker build -t moodle/tehranserver:v5 .
docker images
nano Dockerfile 
docker build -t moodle/tehranserver:v5 .
systemctl restart docker
screen
sudo chown -R 33:33 ./moodle ./moodledata
docker-compose up -d
nano docker-compose.yml 
docker-compose down -v
cd moodle
ls
cd ..
rm -rf moodle
tar -xvf moodle-latest-500.tgz 
ls
sudo chown -R 33:33 ./moodle ./moodledata
docker-compose up -d
docker-compose down -v
nano docker-compose.yml 
docker-compose up -d
ls
docker exec -it moodle_app /bin/bash
docker-compose down -v
ls
cd dbdata/
ls
cd ..
rm -rf dbdata/
rm -rf moodle
tar -xvf moodle-latest-500.tgz 
sudo chown -R 33:33 ./moodle ./moodledata
nano Dockerfile 
cd moodle/lib/pear/PEAR/
ls
cd ..
nano Dockerfile 
docker-compose up -d
docker-compose down
rm -rf dbdata
docker-compose up -d
docker ps
docker logs 990e00e8c3db
nano Dockerfile 
docker-compose down
docker images
rm -rf moodle dbdata
tar -xvf moodle-latest-500.tgz 
sudo chown -R 33:33 ./moodle ./moodledata
docker-compose up -d
docker logs moodle_app
docker logs moodle_db 
docker-compose down -v
rm -rf moodle
rm -rf dbdata
docker images
docker image rm d7d49aa8fa0f
nano Dockerfile 
screen
tar -xvf moodle-latest-500.tgz 
sudo chown -R 33:33 ./moodle ./moodledata
screen -r
docker-compose up -d
docker ps
docker-compose down
nano docker-compose.yml 
rm -rf dbdata
docker-compose up -d
docker-compose down -v
rm -rf moodle
ls
tar -xvf moodle-latest-500.tgz 
sudo chown -R 33:33 ./moodle ./moodledata
docker-compose up -d
docker ps logs moodle_db
docker logs moodle_db
nano moodle/config.php 
docker network 
docker network ls
docker p
docker ps
docker inspect 661079e3afec | grep -i network
docker exec -it moodle_app /bin/bash
nano moodle/config.php 
nano docker-compose.yml
docker exec -it moodle_db /bin/bash
nano docker-compose.yml
cd /var/lib/docker/volumes/root_dbdata/_data/
ls
cd .
cd ..
ls
reboot 
docker ps
docker-compose down -v
docker image ls
docker image rm 406d3edaa460
rm -rf moodle
rm -rf moodledata/
tar -xvf moodle-latest-500.tgz 
docker-compose up -d
mkdir moodledata
sudo chown -R 33:33 ./moodle ./moodledata
docker exec -it moodle_app /bin/bash
ls
docker ps
ls
cat Dockerfile 
cat docker-compose.yml 
apt install nginx
nano /etc/nginx/sites-available/moodle
sudo ln -s /etc/nginx/sites-available/moodle /etc/nginx/sites-enabled/
sudo nginx -t && sudo systemctl reload nginx
sudo apt install certbot python3-certbot-nginx
certbot --nginx
nano /etc/nginx/sites-available/moodle 
nano moodle/config.php 
docker-compose down
ip a
cd moodle
ls
rm -rf *
ls
rm -rf *
ls
ll
ls
cd /var/lib/docker/volumes/root_dbdata/_data/
ls
rm -rf *
ls -ltrh
cd ..
ls -ltrh
cd 
nano moodle/config.php 
docker-compose up -d
nano moodle/config.php 
nano docker-compose.yml 
nano moodle/config.php 
nano docker-compose.yml 
docker-compose down && docker-compose up -d
docker exec -it moodle_app
docker exec -it moodle_app /bin/bash
nano docker-compose.yml 
nano moodle/config.php
sudo chown -R 33:33 ./moodle ./moodledata
docker ps
docker logs
docker logs 5008584bf923
docker exec -it 5008584bf923 /bin/bash
nano docker-compose.yml 
docker exec -it 5008584bf923 /bin/bash
docker exec -it 5008584bf923 id mysql
cd /var/lib/docker/volumes/root_dbdata/_data/
ls
cd bitnami_moodle/
ls
cd ..
ls
cd mysql/
ls
cd ..
chown -R 999:999 *
ls -ltrh
chmod -R 750 *
cd 
docker-compose down
docker-compose up -d
docker ps
docker exec -it 0713357fbc83 /bin/bash
cd /var/lib/docker/volumes/root_dbdata/_data/
ls
cd ..
ls
cd 
docker-compose down
docker volume ls
docker volume rm root_dbdata
docker-compose up -d
docker ps
docker exec -it eb2a40ead800 /bin/bash
cd /var/lib/docker/volumes/root_dbdata/_data/
ls
ls -ltrh
chown -R daemon:root *
docker exec -it eb2a40ead800 /bin/bash
ls -ltrh
chown -R 999:999 *
docker exec -it eb2a40ead800 /bin/bash
cd
nano moodle/config.php 
docker-compose down
docker-compose up -d
docker logs moodle_db
nano docker-compose.yml 
nano moodle/config.php 
docker ps
nano moodle/config.php 
cd moodledata/
ls
ls -ltrh
-rm -rf *
rm -rf *
ls -ltrh
cd ..
sudo chown -R 33:33 ./moodle ./moodledata
grep -rnw '.' -e 'moodle-demo2.tehranserver.net'
grep -rnw '.' -e 'moodle-demo.tehranserver.net'
cd moodledata/
ls
cd cache/
ls
cd cachestore_file/
ls
cd default_application/
ls
cd core_observers/all-cache/
ls
cd
cd moodledata/
ls
cd cache/
ls
cat core_component.php 
